<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body>
    <div class="row" style="display: flex;">
        <div class="col-lg-3 m-lg-2">
            <button type="button" onclick="Add_emp()" class="btn btn-secondary btn-lg btn-block">Add Employee</button><br>
            <button type="button" onclick="double_salary()" class="btn btn-secondary btn-lg btn-block">Double Salary</button><br>
            <button type="button" onclick="show_salary()" class="btn btn-secondary btn-lg btn-block"> Show Salary>50000</button><br>
            <button type="button" onclick="sortby_Des()" class="btn btn-secondary btn-lg btn-block">Sort by Desending</button><br>
            <button type="button" onclick="calculate_all_salary()" class="btn btn-secondary btn-lg btn-block">Calculate Salary of All</button>
        </div>
        <div>
            <table id="table_record" style="margin-left: 200px; width:100% ;  margin-top: 10px;">

                <tr>
                    <th>Employee</th>
                    <th>Salary</th>
                </tr>

            </table>
        </div>
    </div>
    <script>
        var arr = [{
            "name": "mr.sachin",
            "salary": "20000"
        }, {
            "name": "mr.saurabh",
            "salary": "45000"
        }, {
            "name": "miss.pooja",
            "salary": "45000"
        }, {
            "name": "mr.shivam",
            "salary": "60000"
        }, {
            "name": "mr.mahesh",
            "salary": "40000"
        }, {
            "name": "mr.sai",
            "salary": "35000"
        }, {
            "name": "miss.sakshi",
            "salary": "28000"
        }, {
            "name": "miss.sonali",
            "salary": "24000"
        }, {
            "name": "mr.sumit",
            "salary": "30000"
        }, {
            "name": "miss.sarita",
            "salary": "50000"
        }]

        var newarr = []

        function Add_emp() {
            var random = Math.floor(Math.random() * arr.length); // randomllay access the property.
            console.log(arr[random]);
            newarr.push(arr[random]);
            var tbl = document.getElementById("table_record"); // access table
            var t_row = document.createElement("tr"); // create tr dynamically.
            var t_data1 = document.createElement("td"); // also create td dynamically.
            t_data1.textContent = arr[random].name; // assine value td  and get name.
            t_row.appendChild(t_data1); // append td in tr

            var t_data2 = document.createElement("td");
            t_data2.textContent = arr[random].salary;
            t_row.appendChild(t_data2);
            tbl.appendChild(t_row);
        }

        function double_salary() {
            var table = document.getElementById("table_record"); // access table
            for (var r = 1; r < table.rows.length; r++) { // all rows 
                //  for (var col = 1; col < table.rows[r].cells.length; col++) { // all cells[0]name and cells [1]=salary.
                table.rows[r].cells[1].textContent = (table.rows[r].cells[1].textContent) * 2;
                // }
            }

        }

        function show_salary() {
            let table_cont = document.getElementById("table_record").rows.length;
            let table = document.getElementById("table_record");
            //console.log(table_cont, "REAL", table);
            //  for (var r = 1; r <= table_cont; r++)
            for (var r = 1; r < table.rows.length; r++) {

                // for (var col = 1; col < table.rows[r].cells.length; col++) {
                if (table.rows[r].cells[1].textContent < 50000) { // only show >50000
                    // table_cont = table_cont - 1;
                    table.rows[r].cells[0].textContent = ""; //remove table 
                    table.rows[r].cells[1].textContent = "";

                    //  table.rows[r].remove();
                    //  }
                }
            }
        }

        function sortby_Des() {
            var table = document.getElementById("table_record");

            let sort_array = newarr.sort((b, a) => {
                return a.salary - b.salary;
            });
            console.log(sort_array);
            for (let i = 1; i < table.rows.length; i++) { // 1st create the empty table.
                /* table.rows[i].remove();
                 console.log(table.rows.length);*/
                table.rows[i].cells[0].textContent = "";
                table.rows[i].cells[1].textContent = "";
            }

            for (let i = 0; i < sort_array.length; i++) {
                var t_row = document.createElement("tr"); // create tr dynamically.
                var t_data1 = document.createElement("td"); // also create td dynamically.
                t_data1.textContent = sort_array[i].name; // assine value td  and get name.
                t_row.appendChild(t_data1); // append td in tr

                var t_data2 = document.createElement("td");
                t_data2.textContent = sort_array[i].salary;
                t_row.appendChild(t_data2);
                table.appendChild(t_row);
            }
        }

        function calculate_all_salary() {
            var total = 0;
            var table = document.getElementById("table_record");
            for (var r = 1; r < table.rows.length; r++) {
                total = total + parseInt(table.rows[r].cells[1].textContent);
            }
            var newtr = document.createElement("tr");
            var newtd = document.createElement("td");
            newtd.textContent = "total:";
            newtr.appendChild(newtd);

            var newtd = document.createElement("td");
            newtd.textContent = total;
            newtr.appendChild(newtd);
            table.appendChild(newtr);
        }
    </script>
</body>

</html>